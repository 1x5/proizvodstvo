{"ast":null,"code":"var _jsxFileName = \"/Users/ll/proizvodstvo/client/src/components/layout/Navbar.js\",\n  _s = $RefreshSig$();\n// client/src/components/layout/Navbar.js\nimport React, { useContext, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\nimport { SettingsContext } from '../../context/SettingsContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Navbar = () => {\n  _s();\n  const authContext = useContext(AuthContext);\n  const settingsContext = useContext(SettingsContext);\n  const location = useLocation();\n  const {\n    isAuthenticated,\n    user,\n    logout\n  } = authContext;\n  const {\n    settings,\n    getSettings\n  } = settingsContext;\n  useEffect(() => {\n    if (isAuthenticated) {\n      getSettings();\n    }\n    // eslint-disable-next-line\n  }, [isAuthenticated]);\n  const onLogout = () => {\n    logout();\n  };\n\n  // Проверка активного маршрута\n  const isActive = path => {\n    return location.pathname === path;\n  };\n  const authLinks = /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      className: isActive('/tasks') ? 'active' : '',\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/tasks\",\n        children: \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: isActive('/calendar') ? 'active' : '',\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/calendar\",\n        children: \"\\u041A\\u0430\\u043B\\u0435\\u043D\\u0434\\u0430\\u0440\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: isActive('/reports') ? 'active' : '',\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/reports\",\n        children: \"\\u041E\\u0442\\u0447\\u0435\\u0442\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: isActive('/clients') ? 'active' : '',\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/clients\",\n        children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), user && user.role === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: isActive('/users') ? 'active' : '',\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/users\",\n          children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: isActive('/settings') ? 'active' : '',\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/settings\",\n          children: \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: onLogout,\n        href: \"#!\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-sign-out-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0412\\u044B\\u0445\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n  const guestLinks = /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      className: isActive('/register') ? 'active' : '',\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: isActive('/login') ? 'active' : '',\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"\\u0412\\u0445\\u043E\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: settings && settings.companyName ? settings.companyName : 'Система управления производством'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), isAuthenticated ? authLinks : guestLinks]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"IBIhO0Oj44SxSQ8yMI1ZOoA3YCo=\", false, function () {\n  return [useLocation];\n});\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useContext","useEffect","Link","useLocation","AuthContext","SettingsContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","_s","authContext","settingsContext","location","isAuthenticated","user","logout","settings","getSettings","onLogout","isActive","path","pathname","authLinks","children","className","to","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","href","guestLinks","companyName","_c","$RefreshReg$"],"sources":["/Users/ll/proizvodstvo/client/src/components/layout/Navbar.js"],"sourcesContent":["// client/src/components/layout/Navbar.js\nimport React, { useContext, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\nimport { SettingsContext } from '../../context/SettingsContext';\n\nconst Navbar = () => {\n  const authContext = useContext(AuthContext);\n  const settingsContext = useContext(SettingsContext);\n  const location = useLocation();\n\n  const { isAuthenticated, user, logout } = authContext;\n  const { settings, getSettings } = settingsContext;\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      getSettings();\n    }\n    // eslint-disable-next-line\n  }, [isAuthenticated]);\n\n  const onLogout = () => {\n    logout();\n  };\n\n  // Проверка активного маршрута\n  const isActive = (path) => {\n    return location.pathname === path;\n  };\n\n  const authLinks = (\n    <ul>\n      <li className={isActive('/tasks') ? 'active' : ''}>\n        <Link to=\"/tasks\">Задачи</Link>\n      </li>\n      <li className={isActive('/calendar') ? 'active' : ''}>\n        <Link to=\"/calendar\">Календарь</Link>\n      </li>\n      <li className={isActive('/reports') ? 'active' : ''}>\n        <Link to=\"/reports\">Отчеты</Link>\n      </li>\n      <li className={isActive('/clients') ? 'active' : ''}>\n        <Link to=\"/clients\">Клиенты</Link>\n      </li>\n      {user && user.role === 'admin' && (\n        <>\n          <li className={isActive('/users') ? 'active' : ''}>\n            <Link to=\"/users\">Пользователи</Link>\n          </li>\n          <li className={isActive('/settings') ? 'active' : ''}>\n            <Link to=\"/settings\">Настройки</Link>\n          </li>\n        </>\n      )}\n      <li>\n        <a onClick={onLogout} href=\"#!\">\n          <i className=\"fas fa-sign-out-alt\"></i> <span>Выход</span>\n        </a>\n      </li>\n    </ul>\n  );\n\n  const guestLinks = (\n    <ul>\n      <li className={isActive('/register') ? 'active' : ''}>\n        <Link to=\"/register\">Регистрация</Link>\n      </li>\n      <li className={isActive('/login') ? 'active' : ''}>\n        <Link to=\"/login\">Вход</Link>\n      </li>\n    </ul>\n  );\n\n  return (\n    <nav className=\"navbar\">\n      <h1>\n        <Link to=\"/\">\n          {settings && settings.companyName ? settings.companyName : 'Система управления производством'}\n        </Link>\n      </h1>\n      {isAuthenticated ? authLinks : guestLinks}\n    </nav>\n  );\n};\n\nexport default Navbar;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,WAAW,QAAQ,2BAA2B;AACvD,SAASC,eAAe,QAAQ,+BAA+B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEhE,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAMC,WAAW,GAAGZ,UAAU,CAACI,WAAW,CAAC;EAC3C,MAAMS,eAAe,GAAGb,UAAU,CAACK,eAAe,CAAC;EACnD,MAAMS,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9B,MAAM;IAAEY,eAAe;IAAEC,IAAI;IAAEC;EAAO,CAAC,GAAGL,WAAW;EACrD,MAAM;IAAEM,QAAQ;IAAEC;EAAY,CAAC,GAAGN,eAAe;EAEjDZ,SAAS,CAAC,MAAM;IACd,IAAIc,eAAe,EAAE;MACnBI,WAAW,CAAC,CAAC;IACf;IACA;EACF,CAAC,EAAE,CAACJ,eAAe,CAAC,CAAC;EAErB,MAAMK,QAAQ,GAAGA,CAAA,KAAM;IACrBH,MAAM,CAAC,CAAC;EACV,CAAC;;EAED;EACA,MAAMI,QAAQ,GAAIC,IAAI,IAAK;IACzB,OAAOR,QAAQ,CAACS,QAAQ,KAAKD,IAAI;EACnC,CAAC;EAED,MAAME,SAAS,gBACbjB,OAAA;IAAAkB,QAAA,gBACElB,OAAA;MAAImB,SAAS,EAAEL,QAAQ,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,EAAG;MAAAI,QAAA,eAChDlB,OAAA,CAACL,IAAI;QAACyB,EAAE,EAAC,QAAQ;QAAAF,QAAA,EAAC;MAAM;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eACLxB,OAAA;MAAImB,SAAS,EAAEL,QAAQ,CAAC,WAAW,CAAC,GAAG,QAAQ,GAAG,EAAG;MAAAI,QAAA,eACnDlB,OAAA,CAACL,IAAI;QAACyB,EAAE,EAAC,WAAW;QAAAF,QAAA,EAAC;MAAS;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC,CAAC,eACLxB,OAAA;MAAImB,SAAS,EAAEL,QAAQ,CAAC,UAAU,CAAC,GAAG,QAAQ,GAAG,EAAG;MAAAI,QAAA,eAClDlB,OAAA,CAACL,IAAI;QAACyB,EAAE,EAAC,UAAU;QAAAF,QAAA,EAAC;MAAM;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B,CAAC,eACLxB,OAAA;MAAImB,SAAS,EAAEL,QAAQ,CAAC,UAAU,CAAC,GAAG,QAAQ,GAAG,EAAG;MAAAI,QAAA,eAClDlB,OAAA,CAACL,IAAI;QAACyB,EAAE,EAAC,UAAU;QAAAF,QAAA,EAAC;MAAO;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CAAC,EACJf,IAAI,IAAIA,IAAI,CAACgB,IAAI,KAAK,OAAO,iBAC5BzB,OAAA,CAAAE,SAAA;MAAAgB,QAAA,gBACElB,OAAA;QAAImB,SAAS,EAAEL,QAAQ,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,EAAG;QAAAI,QAAA,eAChDlB,OAAA,CAACL,IAAI;UAACyB,EAAE,EAAC,QAAQ;UAAAF,QAAA,EAAC;QAAY;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,eACLxB,OAAA;QAAImB,SAAS,EAAEL,QAAQ,CAAC,WAAW,CAAC,GAAG,QAAQ,GAAG,EAAG;QAAAI,QAAA,eACnDlB,OAAA,CAACL,IAAI;UAACyB,EAAE,EAAC,WAAW;UAAAF,QAAA,EAAC;QAAS;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC;IAAA,eACL,CACH,eACDxB,OAAA;MAAAkB,QAAA,eACElB,OAAA;QAAG0B,OAAO,EAAEb,QAAS;QAACc,IAAI,EAAC,IAAI;QAAAT,QAAA,gBAC7BlB,OAAA;UAAGmB,SAAS,EAAC;QAAqB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,KAAC,eAAAxB,OAAA;UAAAkB,QAAA,EAAM;QAAK;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACL;EAED,MAAMI,UAAU,gBACd5B,OAAA;IAAAkB,QAAA,gBACElB,OAAA;MAAImB,SAAS,EAAEL,QAAQ,CAAC,WAAW,CAAC,GAAG,QAAQ,GAAG,EAAG;MAAAI,QAAA,eACnDlB,OAAA,CAACL,IAAI;QAACyB,EAAE,EAAC,WAAW;QAAAF,QAAA,EAAC;MAAW;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC,eACLxB,OAAA;MAAImB,SAAS,EAAEL,QAAQ,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,EAAG;MAAAI,QAAA,eAChDlB,OAAA,CAACL,IAAI;QAACyB,EAAE,EAAC,QAAQ;QAAAF,QAAA,EAAC;MAAI;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACL;EAED,oBACExB,OAAA;IAAKmB,SAAS,EAAC,QAAQ;IAAAD,QAAA,gBACrBlB,OAAA;MAAAkB,QAAA,eACElB,OAAA,CAACL,IAAI;QAACyB,EAAE,EAAC,GAAG;QAAAF,QAAA,EACTP,QAAQ,IAAIA,QAAQ,CAACkB,WAAW,GAAGlB,QAAQ,CAACkB,WAAW,GAAG;MAAkC;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EACJhB,eAAe,GAAGS,SAAS,GAAGW,UAAU;EAAA;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtC,CAAC;AAEV,CAAC;AAACpB,EAAA,CA7EID,MAAM;EAAA,QAGOP,WAAW;AAAA;AAAAkC,EAAA,GAHxB3B,MAAM;AA+EZ,eAAeA,MAAM;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}