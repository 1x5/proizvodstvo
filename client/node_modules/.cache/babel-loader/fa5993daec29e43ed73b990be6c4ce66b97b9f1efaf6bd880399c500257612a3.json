{"ast":null,"code":"var _jsxFileName = \"/Users/ll/proizvodstvo/client/src/components/layout/Navbar.js\",\n  _s = $RefreshSig$();\n// client/src/components/layout/Navbar.js\nimport React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\nimport { SettingsContext } from '../../context/SettingsContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Navbar = () => {\n  _s();\n  const authContext = useContext(AuthContext);\n  const settingsContext = useContext(SettingsContext);\n  const {\n    isAuthenticated,\n    user,\n    logout\n  } = authContext;\n  const {\n    settings,\n    getSettings\n  } = settingsContext;\n  useEffect(() => {\n    if (isAuthenticated) {\n      getSettings();\n    }\n    // eslint-disable-next-line\n  }, [isAuthenticated]);\n  const onLogout = () => {\n    logout();\n  };\n  const authLinks = /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/tasks\",\n        children: \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/calendar\",\n        children: \"\\u041A\\u0430\\u043B\\u0435\\u043D\\u0434\\u0430\\u0440\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/reports\",\n        children: \"\\u041E\\u0442\\u0447\\u0435\\u0442\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/clients\",\n        children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), user && user.role === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/users\",\n          children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/settings\",\n          children: \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: onLogout,\n        href: \"#!\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-sign-out-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0412\\u044B\\u0445\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n  const guestLinks = /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"\\u0412\\u0445\\u043E\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: settings && settings.companyName ? settings.companyName : 'Система управления производством'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), isAuthenticated ? authLinks : guestLinks]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"t1rSSriyLMJuomwYy5QLF3emZak=\");\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useContext","useEffect","Link","AuthContext","SettingsContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","_s","authContext","settingsContext","isAuthenticated","user","logout","settings","getSettings","onLogout","authLinks","children","to","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","href","className","guestLinks","companyName","_c","$RefreshReg$"],"sources":["/Users/ll/proizvodstvo/client/src/components/layout/Navbar.js"],"sourcesContent":["// client/src/components/layout/Navbar.js\nimport React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\nimport { SettingsContext } from '../../context/SettingsContext';\n\nconst Navbar = () => {\n  const authContext = useContext(AuthContext);\n  const settingsContext = useContext(SettingsContext);\n  \n  const { isAuthenticated, user, logout } = authContext;\n  const { settings, getSettings } = settingsContext;\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      getSettings();\n    }\n    // eslint-disable-next-line\n  }, [isAuthenticated]);\n\n  const onLogout = () => {\n    logout();\n  };\n\n  const authLinks = (\n    <ul>\n      <li>\n        <Link to=\"/tasks\">Задачи</Link>\n      </li>\n      <li>\n        <Link to=\"/calendar\">Календарь</Link>\n      </li>\n      <li>\n        <Link to=\"/reports\">Отчеты</Link>\n      </li>\n      <li>\n        <Link to=\"/clients\">Клиенты</Link>\n      </li>\n      {user && user.role === 'admin' && (\n        <>\n          <li>\n            <Link to=\"/users\">Пользователи</Link>\n          </li>\n          <li>\n            <Link to=\"/settings\">Настройки</Link>\n          </li>\n        </>\n      )}\n      <li>\n        <a onClick={onLogout} href=\"#!\">\n          <i className=\"fas fa-sign-out-alt\"></i> <span>Выход</span>\n        </a>\n      </li>\n    </ul>\n  );\n\n  const guestLinks = (\n    <ul>\n      <li>\n        <Link to=\"/register\">Регистрация</Link>\n      </li>\n      <li>\n        <Link to=\"/login\">Вход</Link>\n      </li>\n    </ul>\n  );\n\n  return (\n    <nav className=\"navbar\">\n      <h1>\n        <Link to=\"/\">\n          {settings && settings.companyName ? settings.companyName : 'Система управления производством'}\n        </Link>\n      </h1>\n      {isAuthenticated ? authLinks : guestLinks}\n    </nav>\n  );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}