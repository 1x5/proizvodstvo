{"ast":null,"code":"var _jsxFileName = \"/Users/ll/proizvodstvo/client/src/components/layout/Navbar.js\",\n  _s = $RefreshSig$();\n// client/src/components/layout/Navbar.js\nimport React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\nimport { SettingsContext } from '../../context/SettingsContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Navbar = () => {\n  _s();\n  const authContext = useContext(AuthContext);\n  const settingsContext = useContext(SettingsContext);\n  const {\n    isAuthenticated,\n    user,\n    logout\n  } = authContext;\n  const {\n    settings,\n    getSettings\n  } = settingsContext;\n  useEffect(() => {\n    if (isAuthenticated) {\n      getSettings();\n    }\n    // eslint-disable-next-line\n  }, [isAuthenticated]);\n  const onLogout = () => {\n    logout();\n  };\n  const authLinks = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"navbar-right\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/tasks\",\n      className: \"navbar-item\",\n      children: \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), user && user.role === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/users\",\n        className: \"navbar-item\",\n        children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/settings\",\n        className: \"navbar-item\",\n        children: \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"a\", {\n      onClick: onLogout,\n      href: \"#!\",\n      className: \"navbar-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-sign-out-alt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u0412\\u044B\\u0445\\u043E\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 49\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n  const guestLinks = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"navbar-right\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/register\",\n      className: \"navbar-item\",\n      children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/login\",\n      className: \"navbar-item\",\n      children: \"\\u0412\\u0445\\u043E\\u0434\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-left\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"navbar-brand\",\n        children: settings && settings.companyName ? settings.companyName : 'Система управления производством'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), isAuthenticated ? authLinks : guestLinks]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"t1rSSriyLMJuomwYy5QLF3emZak=\");\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useContext","useEffect","Link","AuthContext","SettingsContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","_s","authContext","settingsContext","isAuthenticated","user","logout","settings","getSettings","onLogout","authLinks","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","href","guestLinks","companyName","_c","$RefreshReg$"],"sources":["/Users/ll/proizvodstvo/client/src/components/layout/Navbar.js"],"sourcesContent":["// client/src/components/layout/Navbar.js\nimport React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\nimport { SettingsContext } from '../../context/SettingsContext';\n\nconst Navbar = () => {\n  const authContext = useContext(AuthContext);\n  const settingsContext = useContext(SettingsContext);\n  \n  const { isAuthenticated, user, logout } = authContext;\n  const { settings, getSettings } = settingsContext;\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      getSettings();\n    }\n    // eslint-disable-next-line\n  }, [isAuthenticated]);\n\n  const onLogout = () => {\n    logout();\n  };\n\n  const authLinks = (\n    <div className=\"navbar-right\">\n      <Link to=\"/tasks\" className=\"navbar-item\">Задачи</Link>\n      {user && user.role === 'admin' && (\n        <>\n          <Link to=\"/users\" className=\"navbar-item\">Пользователи</Link>\n          <Link to=\"/settings\" className=\"navbar-item\">Настройки</Link>\n        </>\n      )}\n      <a onClick={onLogout} href=\"#!\" className=\"navbar-item\">\n        <i className=\"fas fa-sign-out-alt\"></i> <span>Выход</span>\n      </a>\n    </div>\n  );\n\n  const guestLinks = (\n    <div className=\"navbar-right\">\n      <Link to=\"/register\" className=\"navbar-item\">Регистрация</Link>\n      <Link to=\"/login\" className=\"navbar-item\">Вход</Link>\n    </div>\n  );\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-left\">\n        <Link to=\"/\" className=\"navbar-brand\">\n          {settings && settings.companyName ? settings.companyName : 'Система управления производством'}\n        </Link>\n      </div>\n      {isAuthenticated ? authLinks : guestLinks}\n    </nav>\n  );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}